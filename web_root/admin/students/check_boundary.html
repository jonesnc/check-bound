<!--
TemplateName:Admin Student Page
-->
<!DOCTYPE html>
<html>
<head>
	<title>Check Boundary</title>
<!-- required scripts -->
	~[wc:commonscripts] 
<!-- Required style sheets: screen.css, and print.css -->
	<link href="/images/css/screen.css" rel="stylesheet" media="screen">
	<link href="/images/css/print.css" rel="stylesheet" media="print">
</head> 
<body> 
	~[wc:admin_header_frame_css]
	<!-- breadcrumb start -->
		<a href="/admin/home.html" target="_top">Start Page</a> &gt; <a href="/admin/students/home.html?selectstudent=nosearch" target="_top">Student Selection</a> &gt; Check if Student is in School Boundary
	<!-- breadcrumb end -->
~[wc:admin_navigation_frame_css]
<!-- start of main menu and content -->
~[wc:title_student_begin_css]Check Boundary~[wc:title_student_end_css]
<!-- start of content area -->
<form action="/admin/changesrecorded.white.html" method="POST" onSubmit="return validateInput()">

        <!-- start of content and bounding box -->
        <div class="box-round">

            <table class="linkDescList">
                <tr>
                    <th colspan="2" class="bold">Check if Student is in School Boundary</th>
                </tr>
                
                <tr> 
                    <td class="bold">Student School ID</td>
                    <td><input type="text" name="school" value="~([01]schoolid)" id="schoolId" readonly/> </td>
                </tr>
                <tr>
                    <td class="bold">Geocode</td>
                    <td>
                        <input type="text" name="[01]geocode" value="~([01]geocode)" id="geocode" size="50"/>
                        <button type="button" id = "validatePrimaryAddress" onclick="getGeocode()">Get Geocode</button>
                    </td>
                </tr>
                <tr> 
                    <td class="bold">Latitude</td>
                    <td> 
                        <input type="text" name="[01]LATITUDE" id="lat" value="~([01]LATITUDE)" />

                    </td>
                </tr> 
                <tr>
                    <td class="bold">Longitude</td>
                    <td> 
                        <input type="text" name="[01]LONGITUDE" id="long" value="~([01]LONGITUDE)" />

                    </td>
                </tr>
                <tr> 
                    <td class="bold">Within Boundary</td>
                    <td> 
                        <input type="text" name="[01]IN_BOUND" id="withinBound" value="~([01]IN_BOUND)" /> 
                        <button type="button" onclick="checkBounds()">Check</button>
                    </td>
                </tr>
            </table>
        </div>
        <div class="button-row"><input type="hidden" name="ac" value="prim">
        ~[submitbutton]</div>
    </form> 
    
    <script type="text/javascript">
        // The function that checks if a point is within a given bound. 
        function inner(point, vs) {
            // ray-casting algorithm based on
            // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html
            
            var x = point[0], y = point[1];
            
            var inside = false;
            for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {
                var xi = vs[i][0], yi = vs[i][1];
                var xj = vs[j][0], yj = vs[j][1];
                
                var intersect = ((yi > y) != (yj > y))
                    && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
                if (intersect) inside = !inside;
            }
            
            return inside;
        };
        
        
        // The function that's used to check an address's latitude and longitude. 
        function getGeocode(){
	      // Get Student's Address 
            var street = "~([01]street)"; 
            var city = "~([01]city)"; 
            var state = "~([01]state)"; 
            var zip = "~([01]zip)"; 
            var address = street + ' ' + city + ' ' + state + ' ' + zip ; 
            var lat; 
            var long; 
            require.config({
                paths: {
                    axios: 'https://unpkg.com/axios/dist/axios.min'
                }
            });
            require(['axios'], axios => {
                axios
                    .get(`https://api.geocod.io/v1.6/geocode?q=${address}&api_key=a5ee6598852752888e358553e229a9e2e2a3eee`)
                    .then(response => {
                        response = response.data;
                        lat = response.results[0].location.lat;
                        long = response.results[0].location.lng; 
                        var geocoding = "Lat: " + lat + ", Lng: " + long; 
                        document.getElementById("geocode").value = geocoding; 
                        checkBounds(); 
                    })
                    .catch(err => {
                        console.error(err); 
                    }); 
            });
        }
        
        
        // Checks if the student's geocode is within the school's bound. 
        function checkBounds(){
             // Canyon View High School
              var cvhs =
                [[-114.0489006, 38.1379321],
                [-114.0504456, 37.6077042],
                [-113.5899329, 37.6054931],
                [-113.5895439, 37.6218754],
                [-113.5268511, 37.6202701],
                [-113.5262574, 37.5308701],
                [-113.3916056, 37.5279562],
                [-113.3407549, 37.506454],
                [-113.2347085, 37.6019375],
                [-113.21655, 37.601934],
                [-113.2171518, 37.7145317],
                [-113.209059, 37.7170074],
                [-113.2067586, 37.7173455],
                [-113.2044582, 37.7173102],
                [-113.2021793, 37.7167826],
                [-113.1999433, 37.7158136],
                [-113.1980894, 37.7143678],
                [-113.1968835, 37.7125245],
                [-113.1959781, 37.7106134],
                [-113.1946089, 37.7083539],
                [-113.193131, 37.7068465],
                [-113.1915245, 37.7054749],
                [-113.1879052, 37.7029761],
                [-113.1822424, 37.6990978],
                [-113.161541, 37.6991699],
                [-113.142712, 37.7065719],
                [-113.1145804, 37.7064684],
                [-113.1051683, 37.7064445],
                [-113.099451, 37.7064112],
                [-113.0992532, 37.7064412],
                [-113.099066, 37.7064796],
                [-113.0925442, 37.7116986],
                [-113.0924384, 37.7119565],
                [-113.0923863, 37.7121761],
                [-113.0923679, 37.7145294],
                [-113.0923633, 37.717356],
                [-113.0913272, 37.7173254],
                [-113.0909889, 37.717221],
                [-113.0907418, 37.7170699],
                [-113.090604, 37.7168639],
                [-113.0904931, 37.7166494],
                [-113.0898368, 37.7149071],
                [-113.0896606, 37.7144908],
                [-113.0894357, 37.7142021],
                [-113.0891196, 37.7139049],
                [-113.0881932, 37.7132782],
                [-113.0878534, 37.7129861],
                [-113.0876155, 37.7126473],
                [-113.0874285, 37.7122056],
                [-113.0873916, 37.7119995],
                [-113.087406, 37.7077606],
                [-113.0873905, 37.7059277],
                [-113.0873373, 37.704099],
                [-113.0871249, 37.6961687],
                [-113.0787557, 37.6962767],
                [-113.0787473, 37.6959019],
                [-113.0786746, 37.6956035],
                [-113.0784429, 37.6953517],
                [-113.0781254, 37.6951849],
                [-113.075248, 37.6945455],
                [-113.0746536, 37.6943276],
                [-113.0738933, 37.693653],
                [-113.0731331, 37.6928595],
                [-113.0717843, 37.6913575],
                [-113.0712832, 37.6907808],
                [-113.0700563, 37.6898387],
                [-113.0686578, 37.6890664],
                [-113.0669708, 37.6884095],
                [-113.0619439, 37.6862385],
                [-113.061979, 37.6882898],
                [-112.9578101, 37.6879085],
                [-112.975861, 37.719212],
                [-112.9611997, 37.7341973],
                [-112.9769364, 37.7842084],
                [-112.9769826, 37.7983315],
                [-112.9696655, 38.1453576],
                [-114.0489006, 38.1379321]];
              // Parowan High School 
              var phs =
                [[-112.9696655, 38.1453576],
                [-112.9769826, 37.7983315],
                [-112.9769364, 37.7842084],
                [-112.9611997, 37.7341973],
                [-112.975861, 37.719212],
                [-112.9610825, 37.6931935],
                [-112.9310353, 37.6420394],
                [-112.6764679, 37.6403349],
                [-112.6771546, 37.7967631],
                [-112.566261, 37.7964584],
                [-112.5674636, 37.8605738],
                [-112.5917539, 37.8609274],
                [-112.5925759, 37.8765539],
                [-112.4664712, 37.8773241],
                [-112.4646156, 37.9786026],
                [-112.4799913, 37.9786676],
                [-112.4780273, 38.1448176],
                [-112.9696655, 38.1453576]];
              // Cedar High School // Cedar Middle School 
              var chs =
                [[-113.0753208, 37.5047165],
                [-112.9320608, 37.4991847],
                [-112.7857056, 37.5434277],
                [-112.6776939, 37.5423458],
                [-112.6764571, 37.6403477],
                [-112.9310245, 37.6420522],
                [-112.9578101, 37.6879085],
                [-113.0601258, 37.6883033],
                [-113.061979, 37.6882898],
                [-113.0619439, 37.6862385],
                [-113.063526, 37.6868227],
                [-113.065113, 37.6874901],
                [-113.065755, 37.6877892],
                [-113.0671034, 37.6882853],
                [-113.0688348, 37.6890399],
                [-113.0699586, 37.689666],
                [-113.0712515, 37.6906594],
                [-113.0741184, 37.693785],
                [-113.0746805, 37.6942534],
                [-113.0753156, 37.6944812],
                [-113.0782682, 37.6951674],
                [-113.0785901, 37.6953584],
                [-113.0787376, 37.6955695],
                [-113.0788208, 37.6957977],
                [-113.0788583, 37.6962116],
                [-113.0872268, 37.696114],
                [-113.0874474, 37.7041376],
                [-113.0874987, 37.7070078],
                [-113.0874749, 37.7119405],
                [-113.0875179, 37.7121805],
                [-113.0877191, 37.7126733],
                [-113.0879592, 37.7129601],
                [-113.0883387, 37.7132638],
                [-113.0891743, 37.7138762],
                [-113.0895592, 37.7142001],
                [-113.089757, 37.7144893],
                [-113.0902445, 37.7157546],
                [-113.0905658, 37.7166464],
                [-113.0908203, 37.7170329],
                [-113.0910319, 37.7171733],
                [-113.0913731, 37.7172657],
                [-113.0922507, 37.7172817],
                [-113.092258, 37.7144965],
                [-113.0922831, 37.7122043],
                [-113.0923386, 37.7119069],
                [-113.0924369, 37.7116689],
                [-113.0957254, 37.7090122],
                [-113.0988153, 37.7065571],
                [-113.0990137, 37.7064202],
                [-113.099298, 37.7063682],
                [-113.1428998, 37.7065146],
                [-113.1614445, 37.699692],
                [-113.1834788, 37.6998586],
                [-113.1866647, 37.7020578],
                [-113.1898991, 37.7042823],
                [-113.1916567, 37.7054776],
                [-113.192608, 37.7063022],
                [-113.1936558, 37.7072457],
                [-113.1945982, 37.7083709],
                [-113.1953368, 37.7093264],
                [-113.1962647, 37.7109646],
                [-113.1969164, 37.7123566],
                [-113.1975052, 37.713337],
                [-113.1981644, 37.7142642],
                [-113.1982955, 37.7142908],
                [-113.2000842, 37.7157177],
                [-113.2012811, 37.7163149],
                [-113.2021854, 37.7166601],
                [-113.2029219, 37.7168836],
                [-113.2038909, 37.7171057],
                [-113.2049145, 37.7172401],
                [-113.2059489, 37.7172811],
                [-113.2072386, 37.7172378],
                [-113.2087642, 37.7170077],
                [-113.2171411, 37.7145487],
                [-113.2167718, 37.6775857],
                [-113.2164779, 37.6585832],
                [-113.21628, 37.6447246],
                [-113.2163044, 37.6372261],
                [-113.2162538, 37.6301864],
                [-113.2162705, 37.6178916],
                [-113.2164452, 37.6091946],
                [-113.2165057, 37.6047483],
                [-113.2165393, 37.601951],
                [-113.2262346, 37.6019379],
                [-113.2346978, 37.6019545],
                [-113.2348847, 37.6019456],
                [-113.2353826, 37.6018433],
                [-113.3407442, 37.506471],
                [-113.3273342, 37.4680115],
                [-113.2662205, 37.4104795],
                [-113.2103353, 37.3987589],
                [-113.0753208, 37.5047165]];
              // North Elem 
              var north_elem =
                [[-113.1063938, 37.6849921],
                [-113.1063295, 37.6683061],
                [-113.1005573, 37.6683316],
                [-113.1005143, 37.6744035],
                [-113.097285, 37.6743696],
                [-113.094297, 37.6735288],
                [-113.0911857, 37.6736052],
                [-113.0870819, 37.6746328],
                [-113.087114, 37.6770274],
                [-113.0830854, 37.6770298],
                [-113.078692, 37.6770659],
                [-113.0743039, 37.677068],
                [-113.0720669, 37.6770817],
                [-113.0698675, 37.6771038],
                [-113.0693525, 37.6772036],
                [-113.0688483, 37.6773968],
                [-113.0618047, 37.6774011],
                [-113.0618584, 37.681723],
                [-113.0619657, 37.6862614],
                [-113.062435, 37.6863517],
                [-113.0638713, 37.6869996],
                [-113.0653506, 37.6876135],
                [-113.0656913, 37.6877844],
                [-113.0672188, 37.6883877],
                [-113.0680952, 37.6887318],
                [-113.0687946, 37.6890038],
                [-113.0703878, 37.6899632],
                [-113.0711817, 37.6905978],
                [-113.071686, 37.6911103],
                [-113.0727535, 37.6923005],
                [-113.0737164, 37.6933307],
                [-113.0740745, 37.6937142],
                [-113.0746794, 37.694242],
                [-113.0753392, 37.6944818],
                [-113.0782789, 37.6951546],
                [-113.0785605, 37.6953287],
                [-113.0787778, 37.6955791],
                [-113.078869, 37.6961988],
                [-113.0871248, 37.6961097],
                [-113.0870068, 37.690916],
                [-113.086921, 37.6883276],
                [-113.0868781, 37.6869612],
                [-113.0868459, 37.685408],
                [-113.0868003, 37.6848562],
                [-113.0867117, 37.6843043],
                [-113.0860037, 37.6824236],
                [-113.0859527, 37.6821158],
                [-113.0860345, 37.681635],
                [-113.0862021, 37.6812137],
                [-113.0867922, 37.6814196],
                [-113.0875861, 37.6816764],
                [-113.0900913, 37.6825],
                [-113.0939484, 37.6837949],
                [-113.0954933, 37.6842661],
                [-113.0957468, 37.684333],
                [-113.0969229, 37.6846206],
                [-113.0981058, 37.6848222],
                [-113.0988112, 37.6849135],
                [-113.0999726, 37.6849878],
                [-113.1031832, 37.6850027],
                [-113.1063938, 37.6849921]];
              // South Elem 
              var south_elem =
                [[-113.1192201, 37.6291834],
                [-113.1186408, 37.6293194],
                [-113.1156797, 37.6301266],
                [-113.1119353, 37.6311633],
                [-113.1100095, 37.6317283],
                [-113.1083035, 37.632289],
                [-113.1060318, 37.6331366],
                [-113.1041073, 37.6339469],
                [-113.1022525, 37.6348252],
                [-113.1007545, 37.6355963],
                [-113.0992887, 37.6364183],
                [-113.0978658, 37.6372721],
                [-113.0964965, 37.6381685],
                [-113.0945225, 37.6395926],
                [-113.0935891, 37.6403259],
                [-113.0926879, 37.6410846],
                [-113.0917625, 37.6418795],
                [-113.0907298, 37.6428358],
                [-113.0889809, 37.6446039],
                [-113.0871316, 37.6468295],
                [-113.0862928, 37.6479381],
                [-113.0854647, 37.6491231],
                [-113.0846929, 37.6503463],
                [-113.0839532, 37.651595],
                [-113.0832565, 37.6529606],
                [-113.0824953, 37.6546191],
                [-113.0818301, 37.6544365],
                [-113.0815593, 37.6542964],
                [-113.0810986, 37.6542475],
                [-113.0807288, 37.6541594],
                [-113.0804555, 37.6541477],
                [-113.0801022, 37.6541881],
                [-113.0796385, 37.6543208],
                [-113.0792177, 37.6545554],
                [-113.0762812, 37.6569189],
                [-113.0733852, 37.6589877],
                [-113.0725487, 37.6596228],
                [-113.0705641, 37.6611328],
                [-113.0648249, 37.6654823],
                [-113.0644306, 37.6658305],
                [-113.0637252, 37.6663613],
                [-113.0630815, 37.6669239],
                [-113.0627382, 37.6673093],
                [-113.0624592, 37.6676946],
                [-113.0620757, 37.6684016],
                [-113.0618892, 37.6688103],
                [-113.0617316, 37.6695922],
                [-113.0616958, 37.6699831],
                [-113.0616921, 37.670374],
                [-113.0617618, 37.673792],
                [-113.0617578, 37.6749331],
                [-113.0617859, 37.6760826],
                [-113.0618047, 37.6773161],
                [-113.0669305, 37.6773189],
                [-113.0679427, 37.6773234],
                [-113.0685239, 37.6773257],
                [-113.0688691, 37.6772855],
                [-113.069377, 37.677099],
                [-113.069885, 37.6770143],
                [-113.0783145, 37.6769681],
                [-113.0826418, 37.6769447],
                [-113.0840974, 37.6769182],
                [-113.0840796, 37.6769961],
                [-113.087114, 37.6770274],
                [-113.0870819, 37.6746328],
                [-113.0911857, 37.6736052],
                [-113.094297, 37.6735288],
                [-113.097285, 37.6743696],
                [-113.1005143, 37.6744035],
                [-113.1005358, 37.6639833],
                [-113.1061149, 37.6640088],
                [-113.119306, 37.6639281],
                [-113.1193221, 37.6486959],
                [-113.1192228, 37.6388887],
                [-113.1192269, 37.6339851],
                [-113.1192201, 37.6291834]];
              // East Elem 
              var east_elem =
                [[-113.2974, 37.3037582],
                [-113.1645231, 37.2827717],
                [-113.1008736, 37.4424636],
                [-113.0753315, 37.5047037],
                [-112.9320716, 37.4991719],
                [-112.7857164, 37.5434149],
                [-112.6777047, 37.542333],
                [-112.6764679, 37.6403349],
                [-112.9310353, 37.6420394],
                [-112.9610825, 37.6931935],
                [-113.0621106, 37.6928242],
                [-113.0622742, 37.6935437],
                [-113.0625558, 37.6944161],
                [-113.0628414, 37.695248],
                [-113.0632022, 37.6963007],
                [-113.0637842, 37.698058],
                [-113.0639612, 37.698805],
                [-113.0702806, 37.6987626],
                [-113.0702591, 37.6953287],
                [-113.071116, 37.6952576],
                [-113.0714473, 37.6952077],
                [-113.0731719, 37.6947599],
                [-113.0738673, 37.6945458],
                [-113.0742364, 37.6944218],
                [-113.074568, 37.6942766],
                [-113.0737915, 37.6935599],
                [-113.0712769, 37.6908086],
                [-113.0707707, 37.6903625],
                [-113.0701357, 37.6898995],
                [-113.0686906, 37.6890499],
                [-113.0678303, 37.6887098],
                [-113.0655517, 37.6878088],
                [-113.0624846, 37.6864705],
                [-113.0622439, 37.6863787],
                [-113.0618208, 37.6862954],
                [-113.0617887, 37.6843901],
                [-113.0617404, 37.6817844],
                [-113.0616975, 37.6779823],
                [-113.0615688, 37.6703613],
                [-113.0616432, 37.6692743],
                [-113.0620073, 37.6682297],
                [-113.0623385, 37.6676522],
                [-113.0630064, 37.6668326],
                [-113.065914, 37.6645375],
                [-113.0697977, 37.6614396],
                [-113.0727215, 37.6591984],
                [-113.0738561, 37.6584409],
                [-113.074937, 37.6576664],
                [-113.0786598, 37.6547126],
                [-113.0791882, 37.6543176],
                [-113.07962, 37.6541392],
                [-113.0800311, 37.6540171],
                [-113.0804421, 37.6539545],
                [-113.0808531, 37.6539768],
                [-113.0812642, 37.6540245],
                [-113.0821842, 37.6543091],
                [-113.0828011, 37.6529723],
                [-113.0834717, 37.6516652],
                [-113.0849308, 37.6492719],
                [-113.0871571, 37.6461458],
                [-113.0899787, 37.6429516],
                [-113.0956435, 37.6382279],
                [-113.102242, 37.6343453],
                [-113.1083036, 37.6318216],
                [-113.1191182, 37.6288308],
                [-113.1400835, 37.6228955],
                [-113.1470926, 37.6184596],
                [-113.1533283, 37.6133435],
                [-113.1641899, 37.5993403],
                [-113.1738782, 37.5851771],
                [-113.1849252, 37.5688949],
                [-113.1947467, 37.5535984],
                [-113.2075882, 37.531646],
                [-113.2114513, 37.5173498],
                [-113.2149696, 37.5038703],
                [-113.2170303, 37.496447],
                [-113.2189187, 37.4890237],
                [-113.2356957, 37.4254975],
                [-113.2358781, 37.4234224],
                [-113.2357279, 37.4214154],
                [-113.2353417, 37.4196896],
                [-113.2347838, 37.4181342],
                [-113.2342998, 37.4169782],
                [-113.2339659, 37.4158222],
                [-113.2339486, 37.4147599],
                [-113.2341781, 37.413655],
                [-113.2358941, 37.4093048],
                [-113.2406121, 37.3982289],
                [-113.2426202, 37.3919477],
                [-113.246344, 37.385155],
                [-113.2487307, 37.3775568],
                [-113.2597411, 37.3647402],
                [-113.2638603, 37.3582005],
                [-113.2686412, 37.3491157],
                [-113.274484, 37.3415551],
                [-113.2877804, 37.321854],
                [-113.2964382, 37.3086686],
                [-113.2972739, 37.3063945],
                [-113.2974, 37.3037582]];
              // Enoch Elem 
              var enoch_elem =
                [[-113.0411088, 37.792592],
                [-113.0413983, 37.7646357],
                [-113.0551743, 37.7646422],
                [-113.0551636, 37.7468713],
                [-113.0503304, 37.74685],
                [-113.0457225, 37.746803],
                [-113.044017, 37.746709],
                [-113.0430093, 37.7466228],
                [-113.0426821, 37.7464467],
                [-113.0425481, 37.7462367],
                [-113.0426716, 37.7452652],
                [-113.042205, 37.7451167],
                [-113.0419209, 37.7446712],
                [-113.0414972, 37.7443953],
                [-113.0414704, 37.7429084],
                [-113.0414543, 37.7413282],
                [-113.0411861, 37.7410524],
                [-113.0406388, 37.740331],
                [-113.0465698, 37.7342043],
                [-113.0024412, 37.7342262],
                [-112.9611997, 37.7341973],
                [-112.9769364, 37.7842084],
                [-112.9773259, 37.8136575],
                [-113.0193125, 37.8139635],
                [-113.0187541, 37.7923379],
                [-113.0411088, 37.792592]];
              // Fiddler Elem 
              var fiddler_elem =
                [[-113.0540103, 37.7265081],
                [-113.0555835, 37.7248828],
                [-113.0571298, 37.7232661],
                [-113.0602652, 37.720024],
                [-113.063427, 37.7167437],
                [-113.0649542, 37.7151162],
                [-113.0657285, 37.7142601],
                [-113.0664492, 37.7133954],
                [-113.067829, 37.7116615],
                [-113.0692838, 37.7097154],
                [-113.0706474, 37.7077523],
                [-113.0718821, 37.7057892],
                [-113.0731655, 37.7035322],
                [-113.0743523, 37.7012412],
                [-113.073032, 37.7011452],
                [-113.0711967, 37.7011554],
                [-113.0693399, 37.7011739],
                [-113.0686905, 37.7010856],
                [-113.06832, 37.7010906],
                [-113.063846, 37.7010904],
                [-113.0639104, 37.7005026],
                [-113.0639372, 37.6999317],
                [-113.0638085, 37.6986711],
                [-113.0637079, 37.698201],
                [-113.063559, 37.6977352],
                [-113.0628991, 37.6958846],
                [-113.0619121, 37.6929219],
                [-112.9611683, 37.6934313],
                [-112.975861, 37.719212],
                [-112.9611997, 37.7341973],
                [-113.0024412, 37.7342262],
                [-113.0465698, 37.7342043],
                [-113.0501615, 37.7304708],
                [-113.0540103, 37.7265081]];
              // Three Peaks Elem
              var tp_elem =
                [[-113.0751514, 37.7013431],
                [-113.0705603, 37.7094203],
                [-113.0605177, 37.7205209],
                [-113.0538177, 37.7273526],
                [-113.0473095, 37.734201],
                [-113.0441362, 37.7373879],
                [-113.0410914, 37.7405749],
                [-113.0415115, 37.7411631],
                [-113.0416312, 37.7414629],
                [-113.0416131, 37.7421812],
                [-113.0416413, 37.7435839],
                [-113.0416108, 37.7442019],
                [-113.0417198, 37.7444211],
                [-113.0421238, 37.7446954],
                [-113.0421435, 37.7449004],
                [-113.0426781, 37.7451394],
                [-113.0428033, 37.745155],
                [-113.0427479, 37.7456548],
                [-113.042731, 37.7461168],
                [-113.042819, 37.7463648],
                [-113.0430133, 37.7464888],
                [-113.0434221, 37.7465279],
                [-113.0461562, 37.746697],
                [-113.0509887, 37.7467136],
                [-113.054392, 37.7467473],
                [-113.0553492, 37.746781],
                [-113.0553617, 37.7558609],
                [-113.0553788, 37.7604094],
                [-113.0553636, 37.7648306],
                [-113.048512, 37.7647814],
                [-113.0415637, 37.7647912],
                [-113.0414446, 37.7776234],
                [-113.0414221, 37.792584],
                [-113.0187541, 37.7923379],
                [-113.0193125, 37.8139635],
                [-113.105793, 37.8151407],
                [-113.2832373, 37.8159036],
                [-113.2835812, 37.7946889],
                [-113.2766871, 37.788782],
                [-113.2731761, 37.784404],
                [-113.269762, 37.7800259],
                [-113.2655079, 37.7747343],
                [-113.2648508, 37.7740644],
                [-113.2639108, 37.7733563],
                [-113.2605032, 37.7707825],
                [-113.2593762, 37.7697711],
                [-113.2583565, 37.7687766],
                [-113.2507281, 37.7608781],
                [-113.24895, 37.7592088],
                [-113.2467643, 37.7570984],
                [-113.2447718, 37.7552169],
                [-113.2437112, 37.7542677],
                [-113.2423503, 37.7528689],
                [-113.243209, 37.7051737],
                [-113.2369756, 37.7071843],
                [-113.233848, 37.7082065],
                [-113.2311657, 37.7090801],
                [-113.2301303, 37.709549],
                [-113.2287409, 37.7102471],
                [-113.2263511, 37.7115924],
                [-113.2249148, 37.712299],
                [-113.22421, 37.7125717],
                [-113.2235052, 37.7128189],
                [-113.2197879, 37.7138905],
                [-113.2144021, 37.7154427],
                [-113.2117091, 37.7162272],
                [-113.209059, 37.7170074],
                [-113.208312, 37.7171495],
                [-113.2075167, 37.717279],
                [-113.2061903, 37.717349],
                [-113.2048049, 37.7172917],
                [-113.2036408, 37.7171078],
                [-113.2028602, 37.7169395],
                [-113.2015486, 37.7164953],
                [-113.2000788, 37.7157817],
                [-113.1991132, 37.715009],
                [-113.1982711, 37.7143424],
                [-113.1980859, 37.7143339],
                [-113.1972048, 37.7130184],
                [-113.1964132, 37.7115097],
                [-113.1961742, 37.7109898],
                [-113.1952831, 37.7093815],
                [-113.1942424, 37.7080064],
                [-113.193309, 37.7070176],
                [-113.1924239, 37.7062239],
                [-113.1913349, 37.7053369],
                [-113.1868019, 37.7022196],
                [-113.1845087, 37.7006693],
                [-113.1822424, 37.6990978],
                [-113.161541, 37.6991699],
                [-113.142712, 37.7065719],
                [-113.1320369, 37.7065527],
                [-113.1073231, 37.7064743],
                [-113.1011675, 37.7064298],
                [-113.099699, 37.7064202],
                [-113.0991102, 37.7064955],
                [-113.0956496, 37.7092222],
                [-113.0925442, 37.7116986],
                [-113.0924463, 37.7120847],
                [-113.092386, 37.7148551],
                [-113.0924438, 37.7173878],
                [-113.0916062, 37.7173721],
                [-113.0910801, 37.7172709],
                [-113.0906613, 37.7170508],
                [-113.0900879, 37.7158188],
                [-113.0899299, 37.7152028],
                [-113.0896432, 37.7145699],
                [-113.0891947, 37.7139893],
                [-113.0879952, 37.7131627],
                [-113.0877162, 37.7128675],
                [-113.0874801, 37.7124653],
                [-113.0873728, 37.7120292],
                [-113.0873159, 37.7043197],
                [-113.0872124, 37.7004225],
                [-113.0871088, 37.6962027],
                [-113.0799609, 37.6962687],
                [-113.0788851, 37.6962837],
                [-113.0787309, 37.6962837],
                [-113.0787162, 37.6958083],
                [-113.0786746, 37.6956035],
                [-113.078525, 37.6954332],
                [-113.0784288, 37.6953268],
                [-113.0782251, 37.6952227],
                [-113.075248, 37.6945455],
                [-113.074662, 37.6943316],
                [-113.0738915, 37.6946322],
                [-113.0731093, 37.6948461],
                [-113.0723481, 37.6950507],
                [-113.0718014, 37.6952044],
                [-113.071159, 37.6953387],
                [-113.0706876, 37.6953931],
                [-113.0702967, 37.6954051],
                [-113.0702965, 37.6987986],
                [-113.0639612, 37.698805],
                [-113.0640792, 37.6997322],
                [-113.0640738, 37.6999746],
                [-113.0640738, 37.7002],
                [-113.0639987, 37.7010117],
                [-113.073032, 37.7011452],
                [-113.0751514, 37.7013431]];
              // Parowan Elem 
              var parowan_elem =
                [[-112.9696655, 38.1453576],
                [-112.9769826, 37.7983315],
                [-112.9769364, 37.7842084],
                [-112.9611997, 37.7341973],
                [-112.975861, 37.719212],
                [-112.9610825, 37.6931935],
                [-112.9310353, 37.6420394],
                [-112.6764679, 37.6403349],
                [-112.6771546, 37.7967631],
                [-112.566261, 37.7964584],
                [-112.5674636, 37.8605738],
                [-112.5917539, 37.8609274],
                [-112.5925759, 37.8765539],
                [-112.4664712, 37.8773241],
                [-112.4646156, 37.9786026],
                [-112.4799913, 37.9786676],
                [-112.4780273, 38.1448176],
                [-112.9696655, 38.1453576]];
              // Iron Springs Elem
              var ironspring_elem =
                [[-113.2392283, 37.4028673],
                [-113.2381207, 37.4053068],
                [-113.2368627, 37.4082235],
                [-113.2356799, 37.4109442],
                [-113.2349543, 37.4125857],
                [-113.2345513, 37.413594],
                [-113.2343819, 37.4142259],
                [-113.2343092, 37.414926],
                [-113.2343205, 37.4157004],
                [-113.2344821, 37.4165003],
                [-113.2351057, 37.4181257],
                [-113.235681, 37.4196489],
                [-113.235958, 37.4205979],
                [-113.2361635, 37.4217413],
                [-113.236231, 37.4223594],
                [-113.2362663, 37.4229776],
                [-113.2362855, 37.4236],
                [-113.2362629, 37.4245332],
                [-113.236176, 37.4254664],
                [-113.2327835, 37.4383169],
                [-113.2310493, 37.4446868],
                [-113.2301982, 37.447859],
                [-113.2297512, 37.4494876],
                [-113.2275768, 37.4576105],
                [-113.2243801, 37.4693125],
                [-113.2227921, 37.4752274],
                [-113.2220356, 37.4780656],
                [-113.2215876, 37.4796082],
                [-113.2211717, 37.4812103],
                [-113.2194982, 37.4874079],
                [-113.2186559, 37.4905025],
                [-113.2178083, 37.4936055],
                [-113.2154079, 37.5025724],
                [-113.2141754, 37.5070345],
                [-113.2135913, 37.5092911],
                [-113.212991, 37.5115392],
                [-113.2109608, 37.5189],
                [-113.2099616, 37.5225803],
                [-113.2094834, 37.5244418],
                [-113.2089677, 37.526299],
                [-113.2083764, 37.5284611],
                [-113.2076669, 37.5306233],
                [-113.2066463, 37.5333256],
                [-113.2060502, 37.5347236],
                [-113.2047674, 37.537436],
                [-113.2037284, 37.5393989],
                [-113.2012033, 37.543531],
                [-113.1979913, 37.5485243],
                [-113.1963637, 37.5510678],
                [-113.1947467, 37.5535984],
                [-113.1881601, 37.5638274],
                [-113.1849252, 37.5688949],
                [-113.1832915, 37.5714329],
                [-113.1816201, 37.5740475],
                [-113.1761088, 37.5826264],
                [-113.173358, 37.5869115],
                [-113.1719556, 37.5890541],
                [-113.1703977, 37.5912221],
                [-113.1661306, 37.5967561],
                [-113.1641899, 37.5993403],
                [-113.163536, 37.6001691],
                [-113.1626753, 37.6012529],
                [-113.1616376, 37.6026258],
                [-113.1574966, 37.6080165],
                [-113.1554259, 37.6107204],
                [-113.1533283, 37.6133435],
                [-113.1518759, 37.6148785],
                [-113.1502036, 37.6164561],
                [-113.1478821, 37.6183863],
                [-113.1466334, 37.6192414],
                [-113.1451006, 37.6202197],
                [-113.1435034, 37.6212066],
                [-113.1400835, 37.6228955],
                [-113.138025, 37.6237554],
                [-113.1358378, 37.6245219],
                [-113.1324503, 37.6255364],
                [-113.1233466, 37.6280322],
                [-113.1192201, 37.6291834],
                [-113.1193092, 37.6353199],
                [-113.1192519, 37.6384348],
                [-113.1192589, 37.6415838],
                [-113.1194413, 37.6513106],
                [-113.119306, 37.6639281],
                [-113.1005358, 37.6639833],
                [-113.1005573, 37.6683316],
                [-113.1063295, 37.6683061],
                [-113.1062663, 37.6759404],
                [-113.1063521, 37.6817825],
                [-113.1063938, 37.6849921],
                [-113.0999726, 37.6849878],
                [-113.0981058, 37.6848222],
                [-113.0954933, 37.6842661],
                [-113.0862021, 37.6812137],
                [-113.0860037, 37.6824236],
                [-113.0867117, 37.6843043],
                [-113.0870068, 37.690916],
                [-113.0871248, 37.6961097],
                [-113.0873826, 37.7002106],
                [-113.0874688, 37.7043455],
                [-113.0875335, 37.7084294],
                [-113.0875122, 37.7111292],
                [-113.087523, 37.7120122],
                [-113.0876626, 37.712437],
                [-113.0880381, 37.7130184],
                [-113.088773, 37.7135552],
                [-113.0895402, 37.7140835],
                [-113.0901892, 37.7155306],
                [-113.0905031, 37.7164111],
                [-113.0906385, 37.716724],
                [-113.0908169, 37.7169861],
                [-113.0910046, 37.7171357],
                [-113.0912353, 37.7172173],
                [-113.0917825, 37.7172619],
                [-113.092394, 37.7172661],
                [-113.0923672, 37.7144484],
                [-113.0923913, 37.713048],
                [-113.0924463, 37.7120847],
                [-113.0925442, 37.7116986],
                [-113.0959078, 37.7089825],
                [-113.0991102, 37.7064955],
                [-113.099538, 37.7064202],
                [-113.1011675, 37.7064298],
                [-113.1048769, 37.706449],
                [-113.1109869, 37.706521],
                [-113.1267798, 37.7065645],
                [-113.1346762, 37.7065769],
                [-113.1425082, 37.7065804],
                [-113.161541, 37.6991699],
                [-113.1823336, 37.6990596],
                [-113.1895432, 37.7040085],
                [-113.1914315, 37.7052987],
                [-113.1930516, 37.7066229],
                [-113.1946716, 37.7083629],
                [-113.195326, 37.7092584],
                [-113.1958732, 37.7101708],
                [-113.1969031, 37.7121314],
                [-113.1970802, 37.7125791],
                [-113.1974503, 37.7131966],
                [-113.1981906, 37.7142363],
                [-113.2000789, 37.7156791],
                [-113.2018921, 37.7165405],
                [-113.2033512, 37.7169458],
                [-113.2048103, 37.7171983],
                [-113.2062105, 37.7172917],
                [-113.2075972, 37.7171559],
                [-113.208941, 37.7169013],
                [-113.216108, 37.7148772],
                [-113.219745, 37.7138311],
                [-113.2215581, 37.7132529],
                [-113.2234355, 37.7127425],
                [-113.2252433, 37.712021],
                [-113.2270511, 37.7110619],
                [-113.2287248, 37.710158],
                [-113.2306775, 37.7090928],
                [-113.2418145, 37.7054901],
                [-113.2473289, 37.7037307],
                [-113.2527787, 37.7018778],
                [-113.2650745, 37.6988436],
                [-113.2710825, 37.697377],
                [-113.2773906, 37.6958676],
                [-113.2825834, 37.6948787],
                [-113.2876045, 37.6939574],
                [-113.2997177, 37.6917337],
                [-113.30601, 37.690562],
                [-113.3117443, 37.6895088],
                [-113.3340601, 37.6853486],
                [-113.3575562, 37.6809333],
                [-113.3692616, 37.6787771],
                [-113.3798076, 37.6768745],
                [-113.3818891, 37.6765687],
                [-113.383949, 37.6768745],
                [-113.3881654, 37.6778341],
                [-113.3912285, 37.6785516],
                [-113.3924034, 37.6785558],
                [-113.39412, 37.6788105],
                [-113.4010508, 37.6820881],
                [-113.4021022, 37.6823089],
                [-113.4046342, 37.6821391],
                [-113.4062756, 37.6820797],
                [-113.4075094, 37.6816636],
                [-113.4092475, 37.6811202],
                [-113.4119726, 37.680254],
                [-113.416715, 37.6791588],
                [-113.4207275, 37.6782884],
                [-113.4235813, 37.6774858],
                [-113.4277656, 37.6757961],
                [-113.4312202, 37.6741401],
                [-113.432336, 37.6734099],
                [-113.4333875, 37.6726371],
                [-113.4357316, 37.6708793],
                [-113.4407626, 37.6659213],
                [-113.4455955, 37.6614722],
                [-113.4511016, 37.6595872],
                [-113.4565153, 37.6594598],
                [-113.4708093, 37.6646959],
                [-113.5191782, 37.6129089],
                [-113.5596779, 37.6134485],
                [-113.531251, 37.5362458],
                [-113.3407549, 37.5064582],
                [-113.343416, 37.4019383],
                [-113.3463779, 37.2806795],
                [-113.3246245, 37.2659214],
                [-113.3090028, 37.2819921],
                [-113.3050526, 37.286032],
                [-113.3033778, 37.2882226],
                [-113.3022178, 37.2905498],
                [-113.3008313, 37.2934629],
                [-113.3001312, 37.2969223],
                [-113.2996752, 37.3020658],
                [-113.2994344, 37.3050967],
                [-113.2981635, 37.3080594],
                [-113.2943769, 37.3134385],
                [-113.2871453, 37.3245379],
                [-113.2778518, 37.3384347],
                [-113.2719892, 37.3461209],
                [-113.2691054, 37.3498925],
                [113.2670796, 37.3542782],
                [-113.2637214, 37.3599168],
                [-113.2616933, 37.3634403],
                [-113.2586666, 37.3669399],
                [-113.2494355, 37.3782365],
                [-113.2470338, 37.3853858],
                [-113.2437732, 37.3918872],
                [-113.2424016, 37.3952743],
                [-113.2392283, 37.4028673]];
              // Escalante Elem 
              var escalante_elem = [
                [-114.0518189, 37.6109679],
                [-113.5596779, 37.6134485],
                [-113.5191782, 37.6129089],
                [-113.4710024, 37.664509],
                [-113.4629459, 37.6618254],
                [-113.457212, 37.6600884],
                [-113.4560092, 37.6598453],
                [-113.4546991, 37.659755],
                [-113.4535285, 37.6596986],
                [-113.4525081, 37.6597612],
                [-113.451217, 37.6598747],
                [-113.4502262, 37.6600731],
                [-113.4481804, 37.6606651],
                [-113.4459339, 37.6617303],
                [-113.4447656, 37.6625066],
                [-113.4435972, 37.6634697],
                [-113.4416681, 37.6654809],
                [-113.438123, 37.6690572],
                [-113.436478, 37.6704468],
                [-113.4347257, 37.6717854],
                [-113.4312422, 37.6743352],
                [-113.4243614, 37.6774304],
                [-113.4211997, 37.67839],
                [-113.4149618, 37.6797992],
                [-113.4091375, 37.6812585],
                [-113.4065437, 37.6821731],
                [-113.4020643, 37.6824397],
                [-113.4009752, 37.6822478],
                [-113.3945862, 37.6791519],
                [-113.3935188, 37.6788071],
                [-113.3911374, 37.6786844],
                [-113.3853021, 37.6774197],
                [-113.382428, 37.6767493],
                [-113.3814423, 37.6767922],
                [-113.3339811, 37.6855505],
                [-113.2775162, 37.6959842],
                [-113.2527354, 37.7021421],
                [-113.243209, 37.7051737],
                [-113.2425808, 37.7528578],
                [-113.2507459, 37.7606269],
                [-113.2602047, 37.7703192],
                [-113.2650162, 37.7740189],
                [-113.265837, 37.7748013],
                [-113.2733626, 37.7842996],
                [-113.2767376, 37.7886266],
                [-113.2835678, 37.7943778],
                [-113.2835812, 37.7946889],
                [-113.2832373, 37.8159036],
                [-112.9773259, 37.8136575],
                [-112.9696655, 38.1453576],
                [-114.0489006, 38.1379321],
                [-114.047699, 37.8228025],
                [-114.0518189, 37.6109679]];
              
            var long = document.getElementById("long").value; 
            var lat = document.getElementById("lat").value; 
            var school = document.getElementById("schoolId").value; 
            if (school == 712 || school == 308){
                //Canyon View High School 
                document.getElementById("withinBound").value = inner([long,lat], cvhs); 
            }
            else if (school == 704 || school == 304){
                //Cedar High School + Middle 
                document.getElementById("withinBound").value = inner([long,lat], chs); 
            }
            else if (school == 708){
                //Parowan High School 
                document.getElementById("withinBound").value = inner([long,lat], phs); 
            }
            else if (school == 104) {
                // East Elem 
                document.getElementById("withinBound").value = inner([long,lat], east_elem); 
            }
            else if (school == 120) {
                // Enoch Elem 
                document.getElementById("withinBound").value = inner([long,lat], enoch_elem);
            }
            else if (school == 116) {
                //Escalante 
                document.getElementById("withinBound").value = inner([long,lat], escalante_elem);
            }
            else if (school == 124) {
                // Fiddlers 
                document.getElementById("withinBound").value = inner([long,lat], fiddler_elem);
            }
            else if (school == 132) {
                //Iron Springs 
                document.getElementById("withinBound").value = inner([long,lat], ironspring_elem);
            }
            else if (school == 108) {
                //North 
                document.getElementById("withinBound").value = inner([long,lat], north_elem);
            }
            else if (school == 128) {
                //Parowan 
                document.getElementById("withinBound").value = inner([long,lat], parowan_elem);
            }
            else if (school == 112) {
                //South
                document.getElementById("withinBound").value = inner([long,lat], south_elem);
            }
            else if (school == 126) {
                // 3PE
                document.getElementById("withinBound").value = inner([long,lat], tp_elem);
            }
            else{
                document.getElementById("withinBound").value = "false";
            }
            
            if (document.getElementById("withinBound").value == "true"){
                document.getElementById("withinBound").value = "Yes"; 
            }
            else{
                document.getElementById("withinBound").value = "No"
            }
            
        }
        
        // If Lat and Long are filled, then check bounds 
        function fillLatLong(){
            var geocode = "~([01]geocode)";
            geocode = geocode.replace(",", ""); 
            geocode = geocode.split(' ');   
            var lat = geocode[1]; 
            var long = geocode [3]; 
            if (lat !=undefined && long !=undefined){
                document.getElementById("lat").value = lat ; 
                document.getElementById("long").value = long; 
                checkBounds(); 
            }
           
        }
        
        // Run fillLatLong on page load 
        $j(document).ready(function(){
            fillLatLong(); 
        }); 
            
        
    </script> 
<!-- end of content area -->
	~[wc:admin_footer_frame_css]
</body> 
</html>
